<!--somecomment-->
<!--?xml-stylesheet type="text/xsl" href="tree-view2.xsl"?-->

<SimulationModel name="test" data="xxx">
	<Attributes>

<!--Initial plant position and primordia of the primary root-->
		<SimulaConstant name="plantPosition" type="Coordinate">
			<Constant>
				0 0 0
			</Constant>
			<Attributes>
				<SimulaConstant name="primaryRoot" type="Coordinate">
					<Constant>
						0 0 0
					</Constant>
					<Attributes>
						<SimulaPoint name="growthpoint" function="rootgrowth" integrationFunction="euler">
							<Time>0</Time> <Coordinate> 0 0 0 </Coordinate>
							<Attributes>
								<SimulaDerivative name="growthRate"  unit="cm/day" function="constantRootGrowthRate"></SimulaDerivative>
								<SimulaDerivative name="rootBranchDirection" type="Coordinate" unit="cm" function="rootBranchDirection"></SimulaDerivative>
								<SimulaDerivative name="lateralBranchingAngle"  unit="degrees" function="lateralBranchingAngle"></SimulaDerivative>
								<SimulaDerivative name="radialBranchingAngle"  unit="degrees" function="radialBranchingAngle"></SimulaDerivative>
								<SimulaDerivative name="rootGrowthDirection" type="Coordinate" unit="cm" function="rootGrowthDirection"></SimulaDerivative>
								<SimulaDerivative name="soilImpedence" type="Coordinate" unit="cm" function="randomImpedence"></SimulaDerivative>
								<SimulaDerivative name="gravitropism" type="Coordinate" unit="cm" function="randomGravitropism"></SimulaDerivative>
							</Attributes>
						</SimulaPoint>
						<SimulaConstant name="rootType" type="string">
							<Constant> primary </Constant>
						</SimulaConstant>
						<SimulaBase name="branches">
							<Attributes>
								<SimulaBase name="lateral">
									<Attributes updateFunction="rootBranches">
									</Attributes>
								</SimulaBase>
								<SimulaBase name="basal">
									<Attributes updateFunction="rootBranches">
									</Attributes>
								</SimulaBase>

<!--This doesn't work, since the basal root is attached to a root that hasn't grown yet. It would probably work if the basal root would start later, which requires planned implementation to read the time, 
								<SimulaBase name="basal">
									<Attributes>
										<SimulaConstant name="basal" type="Coordinate">
											<Constant>	0 0 0	</Constant>
											<Attributes>
												<SimulaPoint name="growthpoint" function="rootgrowth" integrationFunction="euler">
													<Time>0</Time> <Coordinate> 0 0 0 </Coordinate>
													<Attributes>
														<SimulaDerivative name="growthRate"  unit="cm/day" function="constantRootGrowthRate"></SimulaDerivative>
														<SimulaDerivative name="rootBranchDirection" type="Coordinate" unit="cm" function="rootBranchDirection"></SimulaDerivative>
														<SimulaDerivative name="lateralBranchingAngle"  unit="degrees" function="lateralBranchingAngle"></SimulaDerivative>
														<SimulaDerivative name="radialBranchingAngle"  unit="degrees" function="radialBranchingAngle"></SimulaDerivative>
														<SimulaDerivative name="rootGrowthDirection" type="Coordinate" unit="cm" function="rootGrowthDirection"></SimulaDerivative>
														<SimulaDerivative name="soilImpedence" type="Coordinate" unit="cm" function="randomImpedence"></SimulaDerivative>
														<SimulaDerivative name="gravitropism" type="Coordinate" unit="cm" function="randomGravitropism"></SimulaDerivative>
													</Attributes>
												</SimulaPoint>
												<SimulaConstant name="rootType" type="string" unit="noUnit">
													<Constant> basal </Constant>
												</SimulaConstant>
												<SimulaBase name="branches">
													<Attributes>
													</Attributes>
												</SimulaBase>
											</Attributes>
										</SimulaConstant>
									</Attributes>
								</SimulaBase>
-->

							</Attributes>
						</SimulaBase>
					</Attributes>
				</SimulaConstant>
			</Attributes>
		</SimulaConstant>

<!--Sibling root template-->
		<SimulaConstant name="siblingRootTemplate" type="Coordinate">
			<Constant>	0 0 0	</Constant>
			<Attributes>
				<SimulaPoint name="growthpoint" function="rootgrowth" integrationFunction="euler">
					<Time>0</Time> <Coordinate> 0 0 0 </Coordinate>
					<Attributes>
						<SimulaDerivative name="growthRate"  unit="cm/day" function="constantRootGrowthRate"></SimulaDerivative>
						<SimulaDerivative name="rootBranchDirection" type="Coordinate" unit="cm" function="rootBranchDirection"></SimulaDerivative>
						<SimulaDerivative name="lateralBranchingAngle"  unit="degrees" function="lateralBranchingAngle"></SimulaDerivative>
						<SimulaDerivative name="radialBranchingAngle"  unit="degrees" function="radialBranchingAngle"></SimulaDerivative>
						<SimulaDerivative name="rootGrowthDirection" type="Coordinate" unit="cm" function="rootGrowthDirection"></SimulaDerivative>
						<SimulaDerivative name="soilImpedence" type="Coordinate" unit="cm" function="randomImpedence"></SimulaDerivative>
						<SimulaDerivative name="gravitropism" type="Coordinate" unit="cm" function="randomGravitropism"></SimulaDerivative>
					</Attributes>
				</SimulaPoint>
				<!--
				Following will be inserted by the program:
				<SimulaConstant name="rootType" type="string" unit="noUnit">
					<Constant> defined-by-function </Constant>
				</SimulaConstant>
				-->
				<SimulaBase name="branches">
					<Attributes>
						<!--here the program will insert new branches-->
					</Attributes>
				</SimulaBase>
			</Attributes>
		</SimulaConstant>

<!--++++++++++++++satrt here+++++-->
<!--Root type parameters start here. Move later to seperate file, when engine reads more then one file-->
		<SimulaBase name="rootTypeParameters">
			<Attributes>
				<SimulaBase name="primary">
					<Attributes>
						<SimulaConstant  name="growthRate" unit="cm/day">
							<Constant> 1.8 </Constant>
						</SimulaConstant>
						<SimulaConstant name="diameter"  unit="cm">
							<Constant> 0.3 </Constant>
						</SimulaConstant>
						<SimulaBase name="branchList">
							<Attributes>
								<SimulaBase name="lateral">
									<Attributes>
										<SimulaConstant  name="branchingFrequency" unit="#/cm">
											<Constant> 2.5 </Constant>
										</SimulaConstant>
										<SimulaConstant  name="lengthRootTip" unit="cm">
											<Constant>  0.7</Constant>
										</SimulaConstant>
								</Attributes>
								</SimulaBase>	
								<SimulaBase name="basal">
									<Attributes>
										<SimulaConstant  name="branchingFrequency" unit="#/cm">
											<Constant> 0.5 </Constant>
										</SimulaConstant>
										<SimulaConstant  name="lengthRootTip" unit="cm">
											<Constant> 1.5 </Constant>
										</SimulaConstant>
										<!--following is not required, but is used as an secondary ristriction on branching -->
										<SimulaConstant  name="branchingEndTime" unit="day">
											<Constant>  8 </Constant>
										</SimulaConstant>
										<!--following is not required, but is used as an secondary ristriction on branching -->
										<!-- note that if maxNuberOfBranches/numberOfBranches/whorl is not an integer, the actual maxNumberOfBranches will be larger-->
										<SimulaConstant type="integer" name="maxNumberOfBranches" unit="#">
											<Constant>  4 </Constant>
										</SimulaConstant>
										<!--default is one. following line changes the default to given number-->
										<SimulaConstant type="integer" name="numberOfBranches/whorl" unit="#">
											<Constant>  4 </Constant>
										</SimulaConstant>
									</Attributes>
								</SimulaBase>	
							</Attributes>
						</SimulaBase>	
						<SimulaConstant name="branchingAngle"  unit="degrees">
							<!--this is the lateral branching angle, may also be given in radians-->
							<Constant> 0 </Constant>
						</SimulaConstant>
						<SimulaConstant name="numberOfXylemPoles" type="int">
							<Constant> 4 </Constant>
						</SimulaConstant>
						<SimulaConstant name="regularTopology" type="int">
							<!--this 0 for random topology or >0 for regular topology
							if >0 then the value indicates the shift from the previous branching position
							i.e. if previous branch is at position 1 then next branch is at position 1+this constant. 
							the numberOfXylemPoles indicates the number of positions-->
							<Constant> 0 </Constant>
						</SimulaConstant>
						<SimulaConstant name="soilImpedence" >
							<!--this is a weight for the random direction vector which represents soil impedence.--> 
							<Constant> 0. </Constant>
						</SimulaConstant>
						<SimulaConstant name="gravitropism" >
							<!--this is a weight for the gravitropism vector.--> 
							<Constant> 1.5 </Constant>
						</SimulaConstant>
						
					</Attributes>	
				</SimulaBase>
<!--type2-->
				<SimulaBase name="lateral">
					<Attributes>
						<SimulaConstant  name="growthRate" unit="cm/day">
							<Constant> 0.8 </Constant>
						</SimulaConstant>
						<SimulaConstant name="diameter"  unit="cm">
							<Constant> 0.1 </Constant>
						</SimulaConstant>
						<SimulaConstant name="branchingAngle"  unit="degrees">
							<Constant> 85 </Constant>
						</SimulaConstant>
						<SimulaConstant name="numberOfXylemPoles" type="int">
							<Constant> 4 </Constant>
						</SimulaConstant>
						<SimulaConstant name="regularTopology" type="int">
							<Constant> 0 </Constant>
						</SimulaConstant>
						<SimulaConstant name="soilImpedence" >
							<!--this is a weight for the random direction vector which represents soil impedence.--> 
							<Constant> 0. </Constant>
						</SimulaConstant>
						<SimulaConstant name="gravitropism" >
							<!--this is a weight for the gravitropism vector.--> 
							<Constant> 1.0 </Constant>
						</SimulaConstant>
						<SimulaBase name="branchList">
							<Attributes>
								<SimulaBase name="tertiary">
									<Attributes>
										<SimulaConstant  name="branchingFrequency" unit="#/cm">
											<Constant> 1.3 </Constant>
										</SimulaConstant>
										<SimulaConstant  name="lengthRootTip" unit="cm">
											<Constant> 3 </Constant>
										</SimulaConstant>
									</Attributes>
								</SimulaBase>
							</Attributes>
						</SimulaBase>
					</Attributes>
				</SimulaBase>
<!--type2-->
				<SimulaBase name="basal">
					<Attributes>
						<SimulaTable name_colum1="time" unit_colum1="day" name_colum2="growthRate" unit_colum2="cm/day">
							<x> 0  4 5 6 1000 </x>
							<y> 0.5  0.5 10 0.5 0.5 </y>							
						</SimulaTable>
						<SimulaConstant name="diameter"  unit="cm">
							<Constant> 0.2 </Constant>
						</SimulaConstant>
						<SimulaConstant name="branchingAngle"  unit="degrees">
							<Constant> 80 </Constant>
						</SimulaConstant>
						<SimulaConstant name="numberOfXylemPoles" type="int">
							<Constant> 4 </Constant>
						</SimulaConstant>
						<SimulaConstant name="regularTopology" type="int">
							<Constant> 0 </Constant>
						</SimulaConstant>
						<SimulaConstant name="soilImpedence" >
							<!--this is a weight for the random direction vector which represents soil impedence.--> 
							<Constant> 0. </Constant>
						</SimulaConstant>
						<SimulaConstant name="gravitropism" >
							<!--this is a weight for the gravitropism vector.--> 
							<Constant> 0.30 </Constant>
						</SimulaConstant>
						<SimulaBase name="branchList">
							<Attributes>
								<SimulaBase name="tertiary">
									<Attributes>
										<SimulaConstant  name="branchingFrequency" unit="#/cm">
											<Constant> 1.0 </Constant>
										</SimulaConstant>
										<SimulaConstant  name="lengthRootTip" unit="cm">
											<Constant> 2 </Constant>
										</SimulaConstant>
									</Attributes>
								</SimulaBase>
							</Attributes>
						</SimulaBase>
					</Attributes>
				</SimulaBase>
<!--type3-->
				<SimulaBase name="tertiary">
					<Attributes>
						<SimulaConstant  name="growthRate" unit="cm/day">
							<Constant> 1 </Constant>
						</SimulaConstant>
						<SimulaConstant name="diameter"  unit="cm">
							<Constant> 0.1 </Constant>
						</SimulaConstant>
						<SimulaConstant name="branchingAngle"  unit="degrees">
							<!--this is the lateral branching angle, may also be given in radians-->
							<Constant> 85 </Constant>
						</SimulaConstant>
						<SimulaConstant name="numberOfXylemPoles" type="int">
							<Constant> 3 </Constant>
						</SimulaConstant>
						<SimulaConstant name="regularTopology" type="int">
							<!--this 0 for random topology or >0 for regular topology
							if >0 then the value indicates the shift from the previous branching position
							i.e. if previous branch is at position 1 then next branch is at position 1+this constant. 
							the numberOfXylemPoles indicates the number of positions-->
							<Constant> 0 </Constant>
						</SimulaConstant>
						<SimulaConstant name="soilImpedence" >
							<!--this is a weight for the random direction vector which represents soil impedence.--> 
							<Constant> 0 </Constant>
						</SimulaConstant>
						<SimulaConstant name="gravitropism" >
							<!--this is a weight for the gravitorpism vector.--> 
							<Constant> 1.0 </Constant>
						</SimulaConstant>
						<SimulaBase name="branchList">
						</SimulaBase>
					</Attributes>
				</SimulaBase>
			</Attributes>	
		</SimulaBase>
<!--end of root type parameters-->		
		
	</Attributes>
</SimulationModel>
